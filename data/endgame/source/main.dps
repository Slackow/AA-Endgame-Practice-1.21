/function tick[tick]:
    /execute unless score end t matches 1.. as @a at @s if dimension the_end run function:
        /scoreboard players set end t 1
        /schedule function [] 2s:
            /execute in the_end run kill @e[type=ender_dragon]
        /fill 98 49 2 98 79 2 air
        /tellraw @a {"text":"[Find End City]","color":"light_purple",\
        "clickEvent":{"action":"run_command","value":"/locate structure end_city"},\
        "hoverEvent":{"action":"show_text","contents":[{"text":"/locate structure end_city"}]}}